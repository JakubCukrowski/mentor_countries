{"mappings":"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","sources":["src/main.js"],"sourcesContent":["//section id=top\r\nconst topSection = document.querySelector('#top');\r\n\r\n//dropdown menu\r\n\r\nconst selectContinent = document.querySelector('.dropdown-menu');\r\nconst dropdownList = document.querySelector('.dropdown-list');\r\nconst selectOptions = dropdownList.querySelectorAll('li');\r\n\r\n//countries\r\n\r\nconst countriesContainer = document.querySelector('.countries-container');\r\n\r\n//searchbar\r\nconst searchbar = document.querySelector('.search-bar');\r\n\r\n//utilities container to delete\r\nconst utilitiesContainer = document.querySelector('.utilities__container')\r\n\r\n//url api changers for filtering\r\nlet region;\r\nlet endpoint;\r\nlet countryName;\r\n\r\nlet url = 'https://restcountries.com/v3.1/all';\r\nconst currentURL = window.location.pathname.split('/');\r\nconst currentCountry = currentURL[currentURL.length - 1]\r\n\r\n//country div\r\nconst addCountryStructure = (src, alt, name, population, region, capital) => {\r\n    const newLink = document.createElement('a');\r\n    newLink.href = `/country/${name}`\r\n    newLink.setAttribute('id', `${name}`);\r\n    newLink.addEventListener('click', countryDetail)\r\n    const newDiv = document.createElement('div');\r\n    newLink.append(newDiv);\r\n    newDiv.classList.add('country-wrapper');\r\n    countriesContainer.append(newLink);\r\n    newDiv.innerHTML = `\r\n        <img src=${src} alt=${alt}>\r\n        <div class=\"content\">\r\n            <h2>${name}</h2>\r\n            <p class=\"population\">\r\n                <span class=\"content-text-bold\">Population:</span> ${population.toLocaleString('en-us', {style: 'decimal'})}\r\n            </p>\r\n            <p class=\"region\"><span class=\"content-text-bold\">Region:</span> ${region}</p>\r\n            <p class=\"capital\"><span class=\"content-text-bold\">Capital:</span> ${capital}</p>\r\n        </div>\r\n\r\n    `\r\n}\r\n\r\n//handle countries\r\n\r\nconst fetchCountries = async () => {\r\n    await fetch(url)\r\n    .then(response => response.json())\r\n    .then(response => {\r\n        response.forEach(country => {\r\n            addCountryStructure(\r\n                country.flags.png, \r\n                country.flag, \r\n                country.name.common, \r\n                country.population, \r\n                country.region,\r\n                country.capital)\r\n        });\r\n    })\r\n    .catch(err => console.log(err));\r\n}\r\n\r\n//handle dropdown menu\r\n\r\nconst handleSelectContinent = () => {\r\n    dropdownList.classList.toggle('blocked');\r\n}\r\n\r\nselectContinent.addEventListener('click', handleSelectContinent)\r\n\r\nconst handleOptions = (event) => {\r\n    selectContinent.innerText = event.target.innerText;\r\n    region = event.target.getAttribute('value');\r\n    dropdownList.classList.remove('blocked');\r\n    countriesContainer.innerHTML = '';\r\n    url = `https://restcountries.com/v3.1/region/${region.toLowerCase()}`;\r\n    fetchCountries();\r\n}\r\n\r\nselectOptions.forEach(option => option.addEventListener('click', handleOptions))\r\n\r\n//handle searchbar\r\n\r\nconst handleSearchbar = (e) => {\r\n    endpoint = e.target.value;\r\n    if (endpoint.length > 0) {\r\n        url = `https://restcountries.com/v3.1/name/${endpoint}`;\r\n        countriesContainer.innerHTML = '';\r\n        fetchCountries();\r\n    }\r\n    \r\n    if (e.target.value.length <= 0 && region !== undefined) {\r\n        url = `https://restcountries.com/v3.1/region/${region.toLowerCase()}`;\r\n        fetchCountries();\r\n    } else if (e.target.value.length <= 0 && region === undefined) {\r\n        url = 'https://restcountries.com/v3.1/all';\r\n        fetchCountries();\r\n    }\r\n}\r\n\r\nsearchbar.addEventListener('input', handleSearchbar)\r\n\r\n//single country structure \r\n\r\nconst singleCountryStructure = (\r\n    src,\r\n    alt,\r\n    singleCountryName,\r\n    nativeName,\r\n    population,\r\n    countryRegion,\r\n    subregion,\r\n    capital,\r\n    topLevelDomain,\r\n    currencies,\r\n    languages,\r\n    ) => {\r\n    const newDiv = document.createElement('div');\r\n    newDiv.classList.add('single-country-wrapper')\r\n    const newButton = document.createElement('button');\r\n    newButton.classList.add('back-btn');\r\n    newButton.innerText = 'Back';\r\n    newButton.addEventListener('click', () => {\r\n        region === undefined \r\n        ? url = 'https://restcountries.com/v3.1/all' \r\n        : url = `https://restcountries.com/v3.1/region/${region.toLowerCase()}`;\r\n        countriesContainer.innerHTML = '';\r\n        utilitiesContainer.classList.remove('no-display')\r\n        history.back();\r\n        fetchCountries();\r\n    })\r\n    countriesContainer.append(newDiv);\r\n    newDiv.innerHTML = `\r\n        <div class='country-info-wrapper'>\r\n            <img src=${src} alt=${alt} >\r\n            <div class='content-wrapper'>\r\n                <div class='left-side-content'>\r\n                    <h2>${singleCountryName}</h2>\r\n                    <p><strong>Native name: </strong>${nativeName}</p>\r\n                    <p>\r\n                        <strong>Population: </strong>\r\n                        ${population.toLocaleString('en-US')}\r\n                    </p>\r\n                    <p>\r\n                        <strong>Region: </strong>\r\n                        ${countryRegion}\r\n                    </p>\r\n                    <p>\r\n                        <strong>Sub Region: </strong>\r\n                        ${subregion}\r\n                    </p>\r\n                    <p>\r\n                        <strong>Capital: </strong>\r\n                        ${capital}\r\n                    </p>\r\n                </div>\r\n                <div class='right-side-content'>\r\n                    <p>\r\n                        <strong>Top Level Domain: </strong>\r\n                        ${topLevelDomain}\r\n                    </p>\r\n                    <p>\r\n                        <strong>Currencies: </strong>\r\n                        ${currencies}\r\n                    </p>\r\n                    <p>\r\n                        <strong>Languages: </strong>\r\n                        ${languages}\r\n                    </p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    `\r\n    newDiv.prepend(newButton);\r\n}\r\n\r\n// country details page\r\n\r\nconst countryDetail = async (e) => {\r\n    e.preventDefault();\r\n    countriesContainer.innerHTML = '';\r\n    utilitiesContainer.classList.add('no-display')\r\n    countryName = e.target.closest('a').id;\r\n    url = `https://restcountries.com/v3.1/name/${countryName}?fullText=true`\r\n    history.pushState(null, null, `/country/${countryName}`)\r\n    await fetch(url)\r\n        .then(response => response.json())\r\n        .then(response => {\r\n            singleCountryStructure(\r\n                response[0].flags.png, \r\n                response[0].flag,\r\n                response[0].name.common,\r\n                Object.values(response[0].name.nativeName).length > 2 \r\n                    ? Object.values(response[0].name.nativeName)[2].common\r\n                    : Object.values(response[0].name.nativeName)[0].common,\r\n                response[0].population,\r\n                response[0].region,\r\n                response[0].subregion,\r\n                response[0].capital, \r\n                response[0].tld[0],\r\n                Object.values(response[0].currencies)[0].name,\r\n                Object.values(response[0].languages).join(', ')\r\n            )\r\n        })\r\n}\r\n\r\n//on page load display all, after refresh depends on the URL\r\n\r\nif (window.location.pathname === '/') {\r\n    fetchCountries();\r\n} else {\r\n    url = `https://restcountries.com/v3.1/name/${currentCountry}?fullText=true`;\r\n    utilitiesContainer.remove();\r\n    fetch(url)\r\n        .then(response => response.json())\r\n        .then(response => {\r\n            singleCountryStructure(\r\n                response[0].flags.png, \r\n                response[0].flag,\r\n                response[0].name.common,\r\n                Object.values(response[0].name.nativeName).length > 2 \r\n                    ? Object.values(response[0].name.nativeName)[2].common\r\n                    : Object.values(response[0].name.nativeName)[0].common,\r\n                response[0].population,\r\n                response[0].region,\r\n                response[0].subregion,\r\n                response[0].capital, \r\n                response[0].tld[0],\r\n                Object.values(response[0].currencies)[0].name,\r\n                Object.values(response[0].languages).join(', ')\r\n            )\r\n        })\r\n}"],"names":[],"version":3,"file":"index.de158e3a.js.map","sourceRoot":"/__parcel_source_root/"}